{% if ht_script_name -%}
SCRIPT_NAME='{{ ht_script_name }}'
{% endif -%}

{% if ht_workers -%}
WEB_CONCURRENCY='{{ ht_workers }}'
{% endif -%}

{% if ht_secure -%}
COOKIE_SECURE=true
SECURE_SSL_REDIRECT=true
{% endif -%}

{% if ht_host_names -%}
ALLOWED_HOSTS='{{ ','.join(ht_host_names) }}'
{% endif -%}

{% if ht_nginx -%}
IPWARE_META_PRECEDENCE_ORDER='HTTP_X_REAL_IP'
SECURE_PROXY_SSL_HEADER='HTTP_X_FORWARDED_PROTO,https'
{% endif -%}

{% if ansible_os_family == 'Archlinux' %}
OSSL_PROVIDER_PATH='/usr/lib/ossl-modules/pkcs11prov.so'
PKCS11_MODULE_PATH='/usr/lib/opensc-pkcs11.so'
{% elif ansible_os_family == 'Debian' %}
#OSSL_PROVIDER_PATH='/usr/lib/x86_64-linux-gnu/ossl-modules/pkcs11.so'
OSSL_ENGINE_PATH='/usr/lib/x86_64-linux-gnu/engines-3/pkcs11.so'
PKCS11_MODULE_PATH='/usr/lib/x86_64-linux-gnu/opensc-pkcs11.so'
{% endif %}
